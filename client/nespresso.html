<head>
	<title>What else ?</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="">
	<meta name="author" content="">
</head>

<body>
    {{> body}}
</body>

<template name="body">
	<div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="brand" href="/">What else ?</a>
          <div class="nav-collapse collapse">
			{{> groups}}
          </div><!--/.nav-collapse -->
          {{> loginButtons}}
        </div>
      </div>
    </div>

    <div class="container">

      <h1>Bootstrap starter template</h1>
      <p>Use this document as a way to quick start any new project.<br> All you get is this message and a barebones HTML document.</p>

  <div id="createList">
    <input type="text" id="new-list" placeholder="New list" />
  </div>

<div class="tabbable tabs-left">
  <ul class="nav nav-tabs">
    {{> lists}}
  </ul>
  <div class="tab-content">
    {{> lines}}
  </div>
</div>

    </div> <!-- /container -->

<div id="about" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
    <h3 id="myModalLabel">Modal header</h3>
  </div>
  <div class="modal-body">
    <p>One fine body…</p>
  </div>
  <div class="modal-footer">
    <button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
    <button class="btn btn-primary">Save changes</button>
  </div>
</div>
</template>

<template name="groups">
    <ul class="nav">
	{{#each groups}}
		{{> group}}
	{{/each}}
    </ul>
</template>

<template name="group">
   	<li class="{{#if active}}active{{/if}}"><a href="/{{id}}">{{name}}</a></li>
</template>

<template name="lists">
    {{#each lists}}

  <li class="{{#if selected}}active{{/if}}">
    <a href="{{_id}}">{{name}}</a>
  </li>
  {{/each}}
</template>

<template name="lines">
  {{#if any_list_selected}}
  <div id="items-view">
    <table id="lines-table" class="table table-striped">
      <thead>
      <tr>
    	<td class="left top-left">&nbsp;</td>
	  {{#each coffees}}
	    <td>
	      <div class="name">{{name}}</div>
	      <div>{{price}} &euro;/cap</div>
	    </td>
	  {{/each}}
    	<td class="right top-right">Total</td>
	  </tr>
	  </thead>

      <tbody>
      {{#each lines}}
        {{> line_item}}
      {{/each}}
      </tbody>

      <tfoot>
      <tr>
    	<td class="left bottom-left">
    		<div>Caps: {{total_caps}} caps</div>
    		<div>Shipping fees: {{shipping_fees}} &euro;</div>
    		<div>Total price: {{total_price}} &euro;</div>
    	</td>
	  {{#each coffees}}
	    <td>
	      <div>&nbsp;</div>
	    </td>
	  {{/each}}
    	<td class="right bottom-right">&nbsp;</td>
	  </tr>
	  </tfoot>

    </table>
  </div>
  {{/if}}
</template>

<template name="line_item">
  <tr class="line">
  	<td class="left">
      <div class="owner">{{owner}}</div>
  	</td>

  {{#each selections}}
    <td>
      {{> table_cell}}
    </td>
  {{/each}}

  	<td class="right">
      <div class="line-total">{{total}} &euro;</div>
  	</td>
  </tr>
</template>

<template name="table_cell">
  <div class="quantity">
  	<div class="amount"><span>{{quantity}}</span></div>
  	<div class="more-less">
      <div class="more {{#if owner}}more-active{{/if}}">+</div>
      <div class="less {{#if owner}}less-active{{/if}}">-</div>
    </div>
  </div>
</template>

<template name="coffees">
  <div id="coffees">
    <div class="label">Coffees:</div>
    {{#each coffees}}
      <div class="coffee {{selected}}">
        {{name}}
      </div>
    {{/each}}
  </div>
</template>
