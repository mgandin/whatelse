<head>
  <title>What else ?</title>
</head>

<body>
  <div id="top-coffees">
    <div class="login-bar">
      {{> loginButtons}}
    </div>
    {{> coffees}}
  </div>

  <div id="main-pane">
    {{> lines}}
  </div>

  <div id="side-pane">
    {{> lists}}
  </div>
</body>

<template name="lists">
  <h3>What else ?</h3>
  <div id="lists">
    {{#each lists}}
      <div class="list {{selected}}">
        {{#if editing}}
          <div class="edit">
            <input class="list-name-input" id="list-name-input" type="text" value="{{name}}" />
          </div>
        {{else}}
          <div class="display">
            <a class="list-name {{name_class}}" href="/{{_id}}">
              {{name}}
            </a>
          </div>
          <div class="destroy"></div>
        {{/if}}
      </div>
    {{/each}}
  </div>
  <div id="createList">
    <input type="text" id="new-list" placeholder="New list" />
  </div>
</template>

<template name="lines">
  {{#if any_list_selected}}
  <div id="items-view">
    <table id="lines-table">
      <thead>
      <tr>
    	<td class="left top-left">&nbsp;</td>
	  {{#each coffees}}
	    <td>
	      <div class="name">{{name}}</div>
	      <div>{{price}} &euro;/cap</div>
	    </td>
	  {{/each}}
    	<td class="right top-right">Total</td>
	  </tr>
	  </thead>

      <tbody>
      {{#each lines}}
        {{> line_item}}
      {{/each}}
      </tbody>

      <tfoot>
      <tr>
    	<td class="left bottom-left">
    		<div>Caps: {{total_caps}} caps</div>
    		<div>Shipping fees: {{shipping_fees}} &euro;</div>
    		<div>Total price: {{total_price}} &euro;</div>
    	</td>
	  {{#each coffees}}
	    <td>
	      <div>&nbsp;</div>
	    </td>
	  {{/each}}
    	<td class="right bottom-right">&nbsp;</td>
	  </tr>
	  </tfoot>

    </table>
  </div>
  {{/if}}
</template>

<template name="line_item">
  <tr class="line">
  	<td class="left">
      <div class="owner">{{owner}}</div>
  	</td>

  {{#each selections}}
    <td>
      {{> table_cell}}
    </td>
  {{/each}}

  	<td class="right">
      <div class="line-total">{{total}} &euro;</div>
  	</td>
  </tr>
</template>

<template name="table_cell">
  <div class="quantity">
  	<div class="amount"><span>{{quantity}}</span></div>
  	<div class="more-less">
      <div class="more {{#if owner}}more-active{{/if}}">+</div>
      <div class="less {{#if owner}}less-active{{/if}}">-</div>
    </div>
  </div>
</template>

<template name="coffees">
  <div id="coffees">
    <div class="label">Coffees:</div>
    {{#each coffees}}
      <div class="coffee {{selected}}">
        {{name}}
      </div>
    {{/each}}
  </div>
</template>
